
%Author: Trisha Chakraborty 07/25/2020
%Basic plot code generates manual plotting, from journal, java plot and
%median-cumm-transmission plot is produced using this function.

function plotALO(Metric, Psize, xFont, yFont, lFont, gFont)
%BEB n = 10..150 with 30 trials
m1 = [24
    26
    32
    24
    22
    20
    30
    28
    26
    28
    28
    26
    24
    20
    26
    20
    22
    24
    26
    28
    30
    26
    24
    28
    23
    22
    22
    32
    22
    24
    58
    50
    43
    55
    54
    56
    62
    56
    58
    54
    55
    60
    56
    54
    52
    54
    55
    58
    58
    52
    48
    50
    50
    49
    60
    50
    48
    56
    49
    65
    84
    82
    82
    86
    88
    96
    88
    77
    74
    90
   102
    84
    83
    70
    82
    88
    98
    88
    78
    88
    80
    84
    86
    82
    88
    98
    86
    92
    81
    72
    116
   109
   117
   111
   115
   117
   102
   116
   112
   109
   120
   126
    96
   120
   121
   118
   105
   118
   118
   116
   123
   114
   107
   105
   110
   104
   118
   117
   112
   116
   158
   123
   149
   148
   152
   132
   134
   132
   143
   142
   146
   138
   152
   144
   144
   138
   146
   126
   134
   152
   142
   148
   152
   142
   160
   138
   144
   133
   142
   142
   170
   170
   188
   176
   195
   179
   173
   178
   167
   162
   173
   185
   186
   170
   179
   182
   174
   167
   174
   192
   181
   166
   146
   170
   182
   168
   163
   184
   198
   175
   195
   222
   224
   218
   198
   210
   191
   196
   204
   204
   210
   222
   216
   204
   198
   208
   192
   190
   186
   233
   207
   182
   207
   207
   195
   215
   220
   206
   210
   200
   222
   218
   219
   236
   238
   244
   236
   241
   238
   237
   245
   233
   244
   230
   231
   221
   231
   233
   228
   245
   238
   238
   248
   244
   223
   232
   230
   266
   244
   242
   282
   276
   261
   268
   252
   268
   267
   263
   262
   258
   281
   253
   260
   258
   272
   264
   274
   286
   282
   258
   270
   256
   260
   260
   257
   262
   268
   264
   254
   259
   300
   267
   283
   290
   302
   269
   310
   286
   306
   272
   295
   282
   306
   294
   287
   326
   289
   277
   277
   293
   295
   307
   298
   295
   301
   300
   287
   292
   295
   269
   303
   301
   308
   301
   313
   305
   311
   307
   322
   297
   304
   314
   291
   309
   305
   321
   301
   310
   299
   297
   294
   286
   290
   286
   295
   294
   304
   305
   304
   319
   316
   306
   333
   326
   313
   311
   322
   306
   322
   298
   330
   334
   299
   323
   315
   322
   313
   318
   307
   323
   314
   340
   326
   305
   324
   314
   335
   292
   300
   329
   336
   332
   314
   343
   309
   325
   317
   319
   342
   310
   318
   327
   333
   316
   321
   345
   340
   323
   344
   322
   353
   338
   333
   332
   324
   310
   362
   337
   337
   333
   346
   344
   348
   330
   338
   336
   348
   351
   322
   345
   332
   332
   351
   346
   353
   339
   355
   339
   342
   335
   343
   341
   348
   339
   339
   337
   328
   342
   332
   362
   330
   378
   355
   335
   347
   327
   341
   349
   355
   323
   343
   340
   356
   353
   346
   344
   333
   345
   338
   352
   362
   329
   352
   353
   345
   364
   336
   336
   361
   366
];
%LOG n = 10..150 with 30 trials
m2 = [36
    28
    36
    28
    28
    38
    42
    28
    28
    28
    34
    24
    34
    26
    36
    38
    40
    26
    30
    28
    30
    34
    34
    28
    32
    36
    28
    30
    28
    30
    47
    61
    55
    53
    61
    46
    56
    60
    50
    59
    57
    54
    61
    48
    55
    50
    56
    60
    51
    53
    57
    52
    61
    58
    56
    56
    50
    46
    52
    56
    60
    96
    74
    71
    88
    66
    80
    88
    65
    80
    82
    72
    83
    69
    78
    72
    80
    80
    72
    72
    87
    74
    86
    78
    80
    71
    67
    63
    70
    79
    151
   100
   119
   131
   155
   134
   118
   144
   106
   114
   134
   142
   126
   131
   134
   118
   102
   136
   154
   119
   116
   115
   117
   120
   121
   140
   113
   123
   123
   125
   180
   158
   205
   158
   185
   172
   168
   164
   176
   142
   174
   172
   192
   173
   183
   174
   196
   213
   176
   194
   190
   208
   180
   177
   179
   174
   174
   193
   175
   179
   195
   244
   217
   252
   240
   244
   212
   279
   216
   241
   239
   242
   226
   238
   202
   249
   223
   249
   228
   247
   230
   242
   250
   235
   236
   242
   260
   200
   253
   223
   276
   272
   286
   288
   300
   284
   254
   332
   286
   306
   263
   287
   304
   260
   282
   265
   264
   279
   292
   292
   309
   302
   279
   280
   296
   315
   260
   295
   305
   307
   313
   366
   291
   363
   305
   332
   354
   317
   360
   320
   329
   345
   332
   383
   353
   360
   300
   335
   364
   333
   362
   356
   337
   330
   351
   327
   326
   311
   340
   343
   423
   430
   362
   420
   415
   360
   333
   408
   391
   391
   391
   447
   353
   377
   398
   410
   357
   419
   409
   401
   449
   447
   415
   361
   359
   388
   426
   406
   394
   400
   490
   448
   441
   445
   417
   496
   475
   446
   469
   482
   406
   444
   422
   485
   484
   464
   430
   514
   457
   448
   439
   494
   448
   434
   436
   461
   481
   480
   494
   488
   471
   520
   502
   527
   478
   486
   556
   545
   545
   522
   545
   518
   467
   514
   490
   518
   493
   522
   560
   533
   513
   518
   460
   535
   554
   488
   511
   536
   558
   518
   545
   565
   523
   555
   521
   533
   557
   510
   573
   587
   534
   569
   533
   547
   582
   539
   542
   529
   560
   526
   568
   543
   557
   549
   580
   573
   550
   550
   518
   531
   588
   680
   605
   570
   620
   639
   617
   573
   633
   620
   615
   547
   587
   605
   528
   569
   556
   573
   579
   564
   612
   535
   566
   611
   637
   595
   596
   601
   615
   637
   642
   656
   609
   619
   692
   611
   617
   654
   578
   675
   685
   621
   638
   610
   680
   649
   646
   635
   593
   628
   626
   634
   632
   659
   640
   637
   612
   607
   610
   654
   637
   677
   638
   674
   648
   653
   604
   646
   648
   641
   663
   636
   698
   680
   712
   693
   670
   696
   645
   668
   663
   661
   666
   646
   629
   647
   693
   632
   659
   619
   699
   735
   671
   652
   635
   690
   668
   712
   667
   726
   708
   706
   708
   663
   740
   681
   691
   673
   683
   644
   760
   657
   702
   680
   704
   683
   665
   717
   694
   685
];
%LOGLOG n = 10..150 with 30 trials
m3 = [28
    26
    20
    32
    28
    24
    26
    22
    34
    28
    32
    24
    28
    34
    22
    26
    28
    22
    26
    20
    24
    34
    22
    30
    28
    30
    22
    24
    20
    32
    72
    50
    62
    54
    71
    69
    62
    68
    58
    64
    60
    57
    66
    63
    71
    72
    57
    54
    64
    62
    74
    67
    58
    55
    68
    58
    64
    74
    65
    54
    88
    94
   110
   102
    89
   108
    94
    96
    89
   118
   102
   100
   102
   108
   106
   112
   101
   114
    96
    98
    91
    96
   100
    87
    98
    83
   102
   120
    90
   109
    132
   145
   136
   125
   152
   153
   145
   156
   172
   160
   130
   148
   142
   128
   141
   130
   157
   134
   138
   146
   165
   129
   138
   126
   132
   146
   126
   137
   145
   153
   182
   188
   187
   184
   190
   165
   184
   160
   184
   185
   180
   182
   190
   176
   208
   163
   182
   176
   177
   176
   187
   177
   198
   177
   172
   192
   181
   184
   194
   155
   225
   228
   199
   214
   216
   232
   242
   226
   212
   241
   224
   235
   252
   222
   260
   218
   236
   236
   220
   221
   218
   231
   251
   244
   201
   239
   220
   249
   222
   239
   245
   238
   250
   250
   269
   286
   251
   250
   257
   235
   279
   249
   254
   259
   254
   257
   277
   243
   257
   225
   245
   275
   255
   262
   251
   260
   281
   242
   258
   218
   255
   250
   260
   262
   282
   296
   263
   261
   269
   245
   289
   259
   264
   270
   265
   268
   288
   253
   267
   235
   256
   284
   265
   273
   262
   272
   292
   252
   269
   228
   320
   327
   308
   258
   298
   306
   322
   304
   314
   248
   299
   330
   315
   293
   303
   338
   274
   321
   317
   318
   316
   343
   298
   290
   342
   308
   318
   318
   346
   322
   338
   358
   326
   374
   322
   368
   375
   337
   368
   327
   333
   330
   378
   363
   330
   356
   373
   365
   319
   333
   318
   333
   352
   320
   344
   350
   342
   338
   367
   358
   385
   368
   413
   393
   357
   382
   390
   389
   409
   426
   363
   418
   403
   381
   401
   406
   408
   361
   394
   413
   397
   418
   408
   391
   387
   383
   373
   426
   414
   398
   431
   456
   407
   399
   386
   432
   393
   433
   386
   414
   420
   422
   441
   412
   399
   367
   440
   467
   416
   400
   412
   414
   428
   457
   443
   424
   430
   414
   418
   426
   412
   470
   470
   431
   472
   458
   463
   452
   479
   436
   466
   427
   437
   449
   466
   433
   440
   464
   450
   465
   405
   430
   459
   419
   447
   430
   388
   476
   419
   438
   457
   480
   450
   454
   451
   489
   447
   453
   437
   494
   456
   486
   476
   498
   474
   444
   472
   441
   497
   466
   441
   483
   478
   414
   512
   447
   523
   474
   485
   448
   509
   435
   445
   464
   502
   498
   456
   486
   485
   498
   503
   495
   496
   477
   462
   493
   490
   482
   479
   496
   483
   505
   495
   488
   520
   503
   518
   475
   439
   490
   487
   489
   543
   475
   493
   507
   517
   489
   488
   535
   494
   504
   522
   526
   517
   500
   517
   468
   491
   498
   482
   485
   535
   526
   503
   510
   540
   496
   492
   512
   
];
%STB n = 10..150 with 30 trials
m4 = [32
    28
    38
    40
    32
    39
    42
    30
    33
    32
    46
    57
    33
    30
    36
    50
    43
    40
    38
    33
    38
    36
    38
    52
    30
    40
    40
    47
    40
    34
    80
    80
    82
    89
    73
    81
    85
    85
    88
    79
    89
    84
    66
    75
    85
   100
    69
    80
    79
    82
    97
    99
   111
    85
    81
    83
    80
   102
    80
    76
     173
   152
   130
   171
   135
   167
   132
   144
   159
   134
   147
   119
   157
   140
   142
   126
   154
   145
   124
   140
   125
   125
   142
   128
   155
   156
   155
   137
   128
   165
   194
   179
   185
   201
   204
   178
   196
   197
   223
   191
   195
   207
   180
   184
   208
   196
   216
   214
   185
   185
   222
   194
   193
   211
   217
   202
   215
   213
   184
   220
   314
   276
   266
   274
   261
   242
   253
   258
   254
   235
   251
   268
   253
   272
   278
   290
   228
   264
   219
   287
   247
   240
   277
   243
   260
   233
   262
   269
   247
   273
   332
   322
   340
   333
   320
   338
   362
   305
   326
   296
   336
   329
   334
   322
   335
   313
   345
   323
   314
   344
   318
   331
   302
   335
   305
   329
   304
   340
   328
   301
   384
   370
   357
   376
   369
   373
   357
   364
   398
   342
   395
   395
   372
   346
   370
   394
   347
   375
   360
   353
   372
   385
   374
   380
   356
   336
   351
   388
   389
   373
   418
   466
   445
   427
   440
   444
   480
   471
   402
   387
   437
   425
   453
   427
   457
   419
   475
   420
   434
   456
   433
   425
   447
   402
   479
   458
   464
   423
   445
   495
   570
   472
   480
   503
   521
   503
   539
   459
   514
   475
   553
   518
   522
   529
   485
   461
   463
   487
   512
   466
   535
   490
   507
   454
   507
   513
   526
   474
   448
   517
   598
   578
   594
   570
   600
   594
   596
   558
   597
   555
   584
   580
   580
   566
   510
   560
   615
   536
   575
   538
   625
   561
   580
   572
   575
   577
   634
   592
   505
   591
   673
   601
   619
   612
   582
   635
   613
   631
   599
   619
   576
   599
   579
   578
   630
   657
   547
   571
   669
   615
   630
   627
   597
   626
   628
   655
   613
   655
   601
   649
   613
   642
   601
   651
   644
   696
   621
   678
   680
   692
   669
   648
   608
   626
   629
   690
   607
   637
   642
   638
   611
   610
   648
   692
   649
   621
   662
   670
   651
   653
   714
   639
   716
   674
   675
   646
   627
   663
   659
   726
   665
   701
   753
   684
   647
   714
   661
   687
   626
   697
   649
   683
   660
   660
   660
   664
   696
   684
   711
   676
   673
   673
   718
   685
   724
   722
   702
   641
   748
   694
   727
   702
   718
   723
   680
   788
   696
   694
   682
   789
   693
   712
   656
   693
   697
   706
   688
   705
   741
   724
   712
   717
   716
   704
   738
   723
   752
   729
   731
   694
   747
   715
   704
   710
   718
   747
   781
   744
   718
   738
   725
   720
   764
   733
   754
   750
   743
   707
   737
   789
];

% Declare variables
stationChanges = 15; % we go from 400 to 10000 stations in increments of 400
numtrials = 30; % number of trials for each N value


% will store the median value
Med1 = zeros(1,stationChanges); 
Med2 = zeros(1,stationChanges); 
Med3 = zeros(1,stationChanges); 
Med4 = zeros(1,stationChanges);  
%Med5 = zeros(1,stationChanges);  

% will store the standard deviation
Std1 = zeros(1,stationChanges); 
Std2 = zeros(1,stationChanges);  
Std3 = zeros(1,stationChanges);  
Std4 = zeros(1,stationChanges);  
%Std5 = zeros(1,stationChanges);  

% will store error-bar values
E1 = zeros(1,stationChanges);  
E2 = zeros(1,stationChanges);
E3 = zeros(1,stationChanges);
E4 = zeros(1,stationChanges);
%E5 = zeros(1,stationChanges);

for i=1:1:stationChanges
   
  % BEB 
   Nincrement = m1( (((i-1)*numtrials)+1):(i*numtrials) ); % get next bunch of 30 trials 
   prunedNincrement = pruneNaN(excludeOutliers(Nincrement)); % prune outliers
   Med1(i) = median(prunedNincrement); % get median 
   disp(Med1(i));
   Std1(i) = std(prunedNincrement); % get standard deviation
   E1(i) = 1.96*Std1(i)/sqrt(numtrials); 
   
   % LOG  
   Nincrement = m2( (((i-1)*numtrials)+1):(i*numtrials) ); % get next bunch of 30 trials 
   prunedNincrement = pruneNaN(excludeOutliers(Nincrement)); % prune outliers
   Med2(i) = median(prunedNincrement); % get median 
   Std2(i) = std(prunedNincrement); % get standard deviation
   E2(i) = 1.96*Std2(i)/sqrt(numtrials);
   
   % LOGLOG 
   Nincrement = m3( (((i-1)*numtrials)+1):(i*numtrials) ); % get next bunch of 30 trials 
   prunedNincrement = pruneNaN(excludeOutliers(Nincrement)); % prune outliers
   Med3(i) = median(prunedNincrement); % get median 
   Std3(i) = std(prunedNincrement); % get standard deviation
   E3(i) = 1.96*Std3(i)/sqrt(numtrials);
   
   % STB  
   Nincrement = m4( (((i-1)*numtrials)+1):(i*numtrials) ); % get next bunch of 30 trials 
   prunedNincrement = pruneNaN(excludeOutliers(Nincrement)); % prune outliers
   Med4(i) = median(prunedNincrement); % get median 
   Std4(i) = std(prunedNincrement); % get standard deviation
   E4(i) = 1.96*Std4(i)/sqrt(numtrials);
   
   % TSTB  
   %Nincrement = m5( (((i-1)*numtrials)+1):(i*numtrials) ); % get next bunch of 30 trials 
   %prunedNincrement = pruneNaN(excludeOutliers(Nincrement)); % prune outliers
   %Med5(i) = median(prunedNincrement); % get median 
   %Std5(i) = std(prunedNincrement); % get standard deviation
   %E5(i) = 1.96*Std5(i)/sqrt(numtrials);
   
  
end

%%%%%%%%%%%%%%% Plotting %%%%%%%%%%%%%%%

X = [10:10:150];  

% plotting BEB 
e1=errorbar(X(1:stationChanges),Med1(1:stationChanges),E1(1:stationChanges),'.b','DisplayName','BEB');
xlim([8 152]);
grid on;
hold on;

e1.LineStyle = ':';
e1.LineWidth = 1;
e1.Marker = 'o';
e1.MarkerSize = 3;
e1.MarkerFaceColor = 'r';
e1.MarkerEdgeColor = 'r';
e1.Color = 'red';

%%%%%%%%%%%%%%%

% plotting LOG
e2=errorbar(X(1:stationChanges),Med2(1:stationChanges),E2(1:stationChanges),'.b','DisplayName','LB');

e2.LineStyle = ':';
e2.LineWidth = 1;
e2.Marker = 'x';
e2.MarkerSize = 3;
e2.MarkerFaceColor = 'b';
e2.MarkerEdgeColor = 'b';
e2.Color = 'blue';

%%%%%%%%%%%%%%%

% plotting LOGLOG 
e3=errorbar(X(1:stationChanges),Med3(1:stationChanges),E3(1:stationChanges),'.b','DisplayName','LLB');

e3.LineStyle = ':';
e3.Marker = '^';
e3.MarkerSize = 3;
e3.MarkerFaceColor = [0.9,0.5,0];
e3.MarkerEdgeColor = [0.9,0.5,0];
e3.Color = [0.9,0.5,0];
e3.LineWidth = 1;

%%%%%%%%%%%%%%%

% Plotting STB
e4=errorbar(X(1:stationChanges),Med4(1:stationChanges),E4(1:stationChanges),'.b','DisplayName','STB');

e4.LineStyle = ':';
e4.LineWidth = 1;
e4.Marker = 'square';
e4.MarkerSize = 3;
e4.MarkerFaceColor = 'g';
e4.MarkerEdgeColor = 'g';
e4.Color = 'g';


%%%%%%%%%%%%%%%

% Plotting TSTB
%e4=errorbar(X(1:stationChanges),Med5(1:stationChanges),E5(1:stationChanges),'.b','DisplayName','TSTB');

%e4.LineStyle = ':';
%e4.LineWidth = 1;
%e4.Marker = 'p';
%e4.MarkerSize = 5;
%e4.MarkerFaceColor = 'k';
%e4.MarkerEdgeColor = 'k';
%e4.Color = 'k';

%%%%%%%%%%%%%%% Plotting Options %%%%%%%%%%%%%%%

lgd = legend('Location', 'NorthWest');
lgd.FontSize = lFont;

set(gca, 'XTick', [10:10:150]);
set(gca,'fontsize',gFont);

% automate the x-axis title
if(strcmp(Psize,'P64'))
    xTitle = strcat('Number of Packets (','64 Bytes',')');
elseif(strcmp(Psize,'P256'))
    xTitle = strcat('Number of Packets (','256 Bytes',')');
elseif(strcmp(Psize,'P1024'))
    xTitle = strcat('Number of Packets (','1024 Bytes',')');
end
xlabel(xTitle,'Fontsize',xFont);

% automate the y-axis title
if(strcmp(Metric,'slotTime'))
    %yTitle = 'Contention-Window Slots';
    yTitle = 'Contention-Window Slots for n/2 Packets';

elseif(strcmp(Metric,'packetTime'))
    %yTitle = 'Total Time ';
    yTitle = 'Total Time for n/2 Packets';
elseif(strcmp(Metric,'ackMissed'))
    %yTitle = 'Max Number of ACK Timeouts';
     yTitle = 'Max Number of ACK Timeouts for n/2 Packets';
else
    %yTitle = 'Max Time for ACK Timeouts';
    yTitle = 'Median Total Number of ALO Instances';
end

ylabel(yTitle,'Fontsize',yFont);

%saving the file in pdf
%saveas(gcf,strcat('C:\Users\tc2006\Desktop\', Psize,'-',Metric,'-',Dist), 'fig');


hold off;

end



